{"ast":null,"code":"var _jsxFileName = \"/Users/leesangsu/\\u1106\\u116E\\u11AB\\u1109\\u1165/GitHub/luminouss-web/src/components/pages/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport firebase from 'global/fbase';\nimport { useHistory } from 'react-router-dom';\nimport Kakao from 'kakaojs';\nimport { useSetRecoilState } from 'recoil';\nimport InitializeState from 'recoilStates/InitializeState';\nimport useRecoilState from 'recoilStates/IsLoggedInState'; //updateProfile({displayName 추가 만들기})\n\nconst Profile = () => {\n  _s();\n\n  // const [arr, setArr] = useState([]);\n  const history = useHistory();\n  const setInit = useSetRecoilState(InitializeState);\n  const setLoggedIn = useSetRecoilState(useRecoilState);\n  const user = firebase.auth().currentUser;\n\n  const onLogOutClick = () => {\n    if (user) {\n      firebase.auth().signOut();\n      history.push(\"/\");\n    } else {\n      console.log(Kakao.Auth.getAccessToken());\n      Kakao.Auth.logout(function () {\n        console.log(Kakao.Auth.getAccessToken());\n      });\n      setInit(true);\n      setLoggedIn(false);\n      history.push(\"/\");\n    }\n  }; //currentUser updateProfile({displayName : input(state로)}) 이름 없을 때에는 null {userName ? <프로필> : <empty>}\n\n  /*\n  import {useCallback, useEffect, useState}\n  const getRoadInfoCurrentUser = useCallback(async () => {\n    try {\n      const road = await firebase.firestore().collection('WalkRoad').where('user', '==', `${user.uid}`).get()\n       road.forEach(doc => {\n        const arrObj = {\n          ...doc.data(),\n          id: doc.id,\n        };\n        setArr((prev) => [arrObj, ...prev]);\n      })\n    } catch (e) {\n      console.log(e);\n    }\n  }, [user.uid]) ;\n   useEffect(() => {\n    if (user) {\n      getRoadInfoCurrentUser();\n    }\n  }, [getRoadInfoCurrentUser, user])*/\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"\\uD504\\uB85C\\uD544\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onLogOutClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"Log Out\"));\n};\n\n_s(Profile, \"3ANsrNJhzR+LsIpXcj+uU4wnggQ=\", false, function () {\n  return [useHistory, useSetRecoilState, useSetRecoilState];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/leesangsu/문서/GitHub/luminouss-web/src/components/pages/Profile.js"],"names":["React","firebase","useHistory","Kakao","useSetRecoilState","InitializeState","useRecoilState","Profile","history","setInit","setLoggedIn","user","auth","currentUser","onLogOutClick","signOut","push","console","log","Auth","getAccessToken","logout"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,iBAAR,QAAgC,QAAhC;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,cAAP,MAA2B,8BAA3B,C,CAGA;;AAGA,MAAMC,OAAO,GAAI,MAAM;AAAA;;AACrB;AACA,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AAEA,QAAMO,OAAO,GAAGL,iBAAiB,CAACC,eAAD,CAAjC;AACA,QAAMK,WAAW,GAAGN,iBAAiB,CAACE,cAAD,CAArC;AAEA,QAAMK,IAAI,GAAGV,QAAQ,CAACW,IAAT,GAAgBC,WAA7B;;AACA,QAAMC,aAAa,GAAG,MAAM;AAC1B,QAAIH,IAAJ,EAAU;AACRV,MAAAA,QAAQ,CAACW,IAAT,GAAgBG,OAAhB;AACAP,MAAAA,OAAO,CAACQ,IAAR,CAAa,GAAb;AACD,KAHD,MAGO;AACLC,MAAAA,OAAO,CAACC,GAAR,CAAYf,KAAK,CAACgB,IAAN,CAAWC,cAAX,EAAZ;AACAjB,MAAAA,KAAK,CAACgB,IAAN,CAAWE,MAAX,CAAkB,YAAW;AAC3BJ,QAAAA,OAAO,CAACC,GAAR,CAAYf,KAAK,CAACgB,IAAN,CAAWC,cAAX,EAAZ;AACD,OAFD;AAGAX,MAAAA,OAAO,CAAC,IAAD,CAAP;AACAC,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAF,MAAAA,OAAO,CAACQ,IAAR,CAAa,GAAb;AACD;AACF,GAbD,CARqB,CAuBrB;;AAIA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAIE,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAQE;AAAQ,IAAA,OAAO,EAAEF,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eARF,CADF;AAYD,CA/DD;;GAAMP,O;UAEYL,U,EAEAE,iB,EACIA,iB;;;KALhBG,O;AAkEN,eAAeA,OAAf","sourcesContent":["import React from 'react';\nimport firebase from 'global/fbase';\nimport {useHistory} from 'react-router-dom';\nimport Kakao from 'kakaojs';\nimport {useSetRecoilState} from 'recoil';\nimport InitializeState from 'recoilStates/InitializeState';\nimport useRecoilState from 'recoilStates/IsLoggedInState';\n\n\n//updateProfile({displayName 추가 만들기})\n\n\nconst Profile =  () => {\n  // const [arr, setArr] = useState([]);\n  const history = useHistory();\n\n  const setInit = useSetRecoilState(InitializeState);\n  const setLoggedIn = useSetRecoilState(useRecoilState);\n\n  const user = firebase.auth().currentUser;\n  const onLogOutClick = () => {\n    if (user) {\n      firebase.auth().signOut();\n      history.push(\"/\");\n    } else {\n      console.log(Kakao.Auth.getAccessToken());\n      Kakao.Auth.logout(function() {\n        console.log(Kakao.Auth.getAccessToken());\n      });      \n      setInit(true);\n      setLoggedIn(false);\n      history.push(\"/\");\n    }\n  };\n\n  //currentUser updateProfile({displayName : input(state로)}) 이름 없을 때에는 null {userName ? <프로필> : <empty>}\n\n\n  \n  /*\n  import {useCallback, useEffect, useState}\n  const getRoadInfoCurrentUser = useCallback(async () => {\n    try {\n      const road = await firebase.firestore().collection('WalkRoad').where('user', '==', `${user.uid}`).get()\n\n      road.forEach(doc => {\n        const arrObj = {\n          ...doc.data(),\n          id: doc.id,\n        };\n        setArr((prev) => [arrObj, ...prev]);\n      })\n    } catch (e) {\n      console.log(e);\n    }\n  }, [user.uid]) ;\n\n  useEffect(() => {\n    if (user) {\n      getRoadInfoCurrentUser();\n    }\n  }, [getRoadInfoCurrentUser, user])*/\n\n  return (\n    <>\n      <h2>프로필</h2> \n      {/* {arr ? arr.map((data) => <div key={data.id} style={{\n          marginTop:\"20px\",\n          marginBottom:\"30px\"\n      }}>\n          <h4>{data.roadName}</h4>\n      </div> ):<h5>산책로 정보 불러오는 중..</h5>} */}\n      <button onClick={onLogOutClick}>Log Out</button>\n    </>\n  );\n};\n\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}