{"ast":null,"code":"import _regeneratorRuntime from\"/Users/leesangsu/\\u1106\\u116E\\u11AB\\u1109\\u1165/GitHub/luminouss-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/leesangsu/\\u1106\\u116E\\u11AB\\u1109\\u1165/GitHub/luminouss-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/leesangsu/\\u1106\\u116E\\u11AB\\u1109\\u1165/GitHub/luminouss-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/leesangsu/\\u1106\\u116E\\u11AB\\u1109\\u1165/GitHub/luminouss-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/leesangsu/\\u1106\\u116E\\u11AB\\u1109\\u1165/GitHub/luminouss-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useEffect,useState}from'react';import firebase from'global/fbase';import{useHistory}from'react-router-dom';//updateProfile({displayName 추가 만들기})\nvar Profile=function Profile(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),arr=_useState2[0],setArr=_useState2[1];var history=useHistory();var user=firebase.auth().currentUser;var onLogOutClick=function onLogOutClick(){firebase.auth().signOut();history.push(\"/\");};//currentUser updateProfile({displayName : input(state로)}) \n// 이름 없을 때에는 null {userName ? <프로필> : <empty>}없으면 \nvar getRoadInfoCurrentUser=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var road;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return firebase.firestore().collection('WalkRoad').where('user','==',\"\".concat(user.uid)).get();case 3:road=_context.sent;road.forEach(function(doc){var arrObj=_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id});setArr(function(prev){return[arrObj].concat(_toConsumableArray(prev));});});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[user.uid]);useEffect(function(){getRoadInfoCurrentUser();},[getRoadInfoCurrentUser]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"\\uD504\\uB85C\\uD544\"),arr?arr.map(function(data){return/*#__PURE__*/React.createElement(\"div\",{key:data.id,style:{marginTop:\"20px\",marginBottom:\"30px\"}},/*#__PURE__*/React.createElement(\"h4\",null,data.roadName));}):/*#__PURE__*/React.createElement(\"h5\",null,\"\\uC0B0\\uCC45\\uB85C \\uC815\\uBCF4 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911..\"),/*#__PURE__*/React.createElement(\"button\",{onClick:onLogOutClick},\"Log Out\"));};export default Profile;","map":{"version":3,"sources":["/Users/leesangsu/문서/GitHub/luminouss-web/src/components/pages/Profile.js"],"names":["React","useCallback","useEffect","useState","firebase","useHistory","Profile","arr","setArr","history","user","auth","currentUser","onLogOutClick","signOut","push","getRoadInfoCurrentUser","firestore","collection","where","uid","get","road","forEach","doc","arrObj","data","id","prev","console","log","map","marginTop","marginBottom","roadName"],"mappings":"26BAAA,MAAOA,CAAAA,KAAP,EAAeC,WAAf,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,QAAP,KAAqB,cAArB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CAEA;AAGA,GAAMC,CAAAA,OAAO,CAAI,QAAXA,CAAAA,OAAW,EAAM,eACCH,QAAQ,CAAC,EAAD,CADT,wCACdI,GADc,eACTC,MADS,eAErB,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,GAAMK,CAAAA,IAAI,CAAGN,QAAQ,CAACO,IAAT,GAAgBC,WAA7B,CACA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxBT,QAAQ,CAACO,IAAT,GAAgBG,OAAhB,GACAL,OAAO,CAACM,IAAR,CAAa,GAAb,EACH,CAHD,CAIA;AACA;AACA,GAAMC,CAAAA,sBAAsB,CAAGf,WAAW,sEAAC,kLAEpBG,CAAAA,QAAQ,CAACa,SAAT,GAAqBC,UAArB,CAAgC,UAAhC,EAA4CC,KAA5C,CAAkD,MAAlD,CAA0D,IAA1D,WAAmET,IAAI,CAACU,GAAxE,GAA+EC,GAA/E,EAFoB,QAEjCC,IAFiC,eAIvCA,IAAI,CAACC,OAAL,CAAa,SAAAC,GAAG,CAAI,CAClB,GAAMC,CAAAA,MAAM,gCACPD,GAAG,CAACE,IAAJ,EADO,MAEVC,EAAE,CAAEH,GAAG,CAACG,EAFE,EAAZ,CAIAnB,MAAM,CAAC,SAACoB,IAAD,SAAWH,MAAX,4BAAsBG,IAAtB,IAAD,CAAN,CACD,CAND,EAJuC,+EAYvCC,OAAO,CAACC,GAAR,cAZuC,oEAAD,GAcvC,CAACpB,IAAI,CAACU,GAAN,CAduC,CAA1C,CAgBAlB,SAAS,CAAC,UAAM,CACdc,sBAAsB,GACvB,CAFQ,CAEN,CAACA,sBAAD,CAFM,CAAT,CAIA,mBACE,qDACE,mDADF,CAEGT,GAAG,CAAGA,GAAG,CAACwB,GAAJ,CAAQ,SAACL,IAAD,qBAAU,2BAAK,GAAG,CAAEA,IAAI,CAACC,EAAf,CAAmB,KAAK,CAAE,CAC/CK,SAAS,CAAC,MADqC,CAE/CC,YAAY,CAAC,MAFkC,CAA1B,eAIrB,8BAAKP,IAAI,CAACQ,QAAV,CAJqB,CAAV,EAAR,CAAH,cAKK,kGAPX,cAQE,8BAAQ,OAAO,CAAErB,aAAjB,YARF,CADF,CAYD,CA1CD,CA6CA,cAAeP,CAAAA,OAAf","sourcesContent":["import React, {useCallback, useEffect, useState}  from 'react';\nimport firebase from 'global/fbase';\nimport {useHistory} from 'react-router-dom';\n\n//updateProfile({displayName 추가 만들기})\n\n\nconst Profile =  () => {\n  const [arr, setArr] = useState([]);\n  const history = useHistory();\n  const user = firebase.auth().currentUser;\n  const onLogOutClick = () => {\n      firebase.auth().signOut();\n      history.push(\"/\");\n  };\n  //currentUser updateProfile({displayName : input(state로)}) \n  // 이름 없을 때에는 null {userName ? <프로필> : <empty>}없으면 \n  const getRoadInfoCurrentUser = useCallback(async () => {\n    try {\n      const road = await firebase.firestore().collection('WalkRoad').where('user', '==', `${user.uid}`).get()\n\n      road.forEach(doc => {\n        const arrObj = {\n          ...doc.data(),\n          id: doc.id,\n        };\n        setArr((prev) => [arrObj, ...prev]);\n      })\n    } catch (e) {\n      console.log(e);\n    }\n  }, [user.uid]) ;\n\n  useEffect(() => {\n    getRoadInfoCurrentUser();\n  }, [getRoadInfoCurrentUser])\n\n  return (\n    <>\n      <h2>프로필</h2> \n      {arr ? arr.map((data) => <div key={data.id} style={{\n          marginTop:\"20px\",\n          marginBottom:\"30px\"\n      }}>\n          <h4>{data.roadName}</h4>\n      </div> ):<h5>산책로 정보 불러오는 중..</h5>}\n      <button onClick={onLogOutClick}>Log Out</button>\n    </>\n  );\n};\n\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}