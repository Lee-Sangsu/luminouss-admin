{"ast":null,"code":"import _regeneratorRuntime from\"/Users/leesangsu/\\u1106\\u116E\\u11AB\\u1109\\u1165/GitHub/luminouss-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/leesangsu/\\u1106\\u116E\\u11AB\\u1109\\u1165/GitHub/luminouss-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import AddRoadForm from'components/organisms/AddRoadForm';import useConfirm from'hooks/useConfirm';// import { useRecoilValue } from 'recoil';\nimport SetEntireStates from'functions/SetEntireStates';import firebase from'global/fbase';import{useHistory}from'react-router-dom';import*as uuid from'uuid';var AddRoad=function AddRoad(){var history=useHistory();var a=SetEntireStates();var submitConfirm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(a.roadName&&a.address&&a.warning&&a.feature&&a.aroundSubway)){_context.next=8;break;}_context.next=4;return firebase.firestore().collection(\"WalkRoad\").doc(uuid.v4()).set(a);case 4:window.alert(\"Document successfully written!\");history.push('/');_context.next=9;break;case 8:window.alert(\"입력 정보가 충분하지 않습니다.\");case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);window.alert(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function submitConfirm(){return _ref.apply(this,arguments);};}();var abort=function abort(){return console.log('abort');};var confirmSubmit=useConfirm(\"You sure?\",submitConfirm,abort);return/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',flexDirection:'column',width:'100%',height:'100%',justifyContent:'center',alignItems:'center'}},/*#__PURE__*/React.createElement(\"h2\",null,\"AddRoad Page\"),/*#__PURE__*/React.createElement(AddRoadForm,null),/*#__PURE__*/React.createElement(\"button\",{onClick:confirmSubmit,style:{width:'200px',height:'40px',borderWidth:'3px',marginTop:'15px',fontSize:'15px',fontWeight:'500'}},\" \\uC815\\uBCF4 \\uB4F1\\uB85D\\uD558\\uAE30 \"));};export default AddRoad;","map":{"version":3,"sources":["/Users/leesangsu/문서/GitHub/luminouss-web/src/components/pages/AddRoad.js"],"names":["React","AddRoadForm","useConfirm","SetEntireStates","firebase","useHistory","uuid","AddRoad","history","a","submitConfirm","roadName","address","warning","feature","aroundSubway","firestore","collection","doc","v4","set","window","alert","push","abort","console","log","confirmSubmit","display","flexDirection","width","height","justifyContent","alignItems","borderWidth","marginTop","fontSize","fontWeight"],"mappings":"mXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,kCAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA;AACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,CACA,MAAOC,CAAAA,QAAP,KAAqB,cAArB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,MAAtB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CACA,GAAMI,CAAAA,CAAC,CAAGN,eAAe,EAAzB,CACA,GAAMO,CAAAA,aAAa,0FAAG,wJAGdD,CAAC,CAACE,QAAF,EAAcF,CAAC,CAACG,OAAhB,EAA2BH,CAAC,CAACI,OAA7B,EAAwCJ,CAAC,CAACK,OAA1C,EAAqDL,CAAC,CAACM,YAHzC,gDAIVX,CAAAA,QAAQ,CAACY,SAAT,GAAqBC,UAArB,CAAgC,UAAhC,EAA4CC,GAA5C,CAAgDZ,IAAI,CAACa,EAAL,EAAhD,EAA2DC,GAA3D,CAA+DX,CAA/D,CAJU,QAKhBY,MAAM,CAACC,KAAP,CAAa,gCAAb,EACAd,OAAO,CAACe,IAAR,CAAa,GAAb,EANgB,6BAQhBF,MAAM,CAACC,KAAP,CAAa,mBAAb,EARgB,wFAYlBD,MAAM,CAACC,KAAP,cAZkB,qEAAH,kBAAbZ,CAAAA,aAAa,0CAAnB,CAeA,GAAMc,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,SAAMC,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAN,EAAd,CACA,GAAMC,CAAAA,aAAa,CAAGzB,UAAU,CAAC,WAAD,CAAcQ,aAAd,CAA6Bc,KAA7B,CAAhC,CAGA,mBACE,2BAAK,KAAK,CAAE,CACVI,OAAO,CAAE,MADC,CAEVC,aAAa,CAAE,QAFL,CAGVC,KAAK,CAAE,MAHG,CAIVC,MAAM,CAAE,MAJE,CAKVC,cAAc,CAAC,QALL,CAMVC,UAAU,CAAE,QANF,CAAZ,eAQE,6CARF,cASE,oBAAC,WAAD,MATF,cAUE,8BAAQ,OAAO,CAAEN,aAAjB,CAAgC,KAAK,CAAE,CACrCG,KAAK,CAAC,OAD+B,CAErCC,MAAM,CAAC,MAF8B,CAGrCG,WAAW,CAAC,KAHyB,CAIrCC,SAAS,CAAC,MAJ2B,CAKrCC,QAAQ,CAAE,MAL2B,CAMrCC,UAAU,CAAE,KANyB,CAAvC,4CAVF,CADF,CAqBD,CA3CD,CA6CA,cAAe9B,CAAAA,OAAf","sourcesContent":["import React from \"react\";\nimport AddRoadForm from 'components/organisms/AddRoadForm';\nimport useConfirm from 'hooks/useConfirm';\n// import { useRecoilValue } from 'recoil';\nimport SetEntireStates from 'functions/SetEntireStates';\nimport firebase from 'global/fbase';\nimport {useHistory} from 'react-router-dom';\nimport * as uuid from 'uuid';\n\nconst AddRoad = () => {\n  const history = useHistory();\n  const a = SetEntireStates();\n  const submitConfirm = async () => {\n    // recoil value 다 가져와서 firestore에 한번에 저장, -> try catch\n    try {\n      if (a.roadName && a.address && a.warning && a.feature && a.aroundSubway) {\n        await firebase.firestore().collection(\"WalkRoad\").doc(uuid.v4()).set(a)\n        window.alert(\"Document successfully written!\");              \n        history.push('/');\n      } else { \n        window.alert(\"입력 정보가 충분하지 않습니다.\");\n      }\n    }\n    catch (documentError) {\n      window.alert(documentError);\n    }\n  };\n  const abort = () => console.log('abort'); \n  const confirmSubmit = useConfirm(\"You sure?\", submitConfirm, abort);\n\n\n  return (\n    <div style={{\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      height: '100%',\n      justifyContent:'center',\n      alignItems: 'center'\n    }}>\n      <h2>AddRoad Page</h2>\n      <AddRoadForm />\n      <button onClick={confirmSubmit} style={{\n        width:'200px',\n        height:'40px',\n        borderWidth:'3px',\n        marginTop:'15px',\n        fontSize: '15px',\n        fontWeight: '500'\n      }}> 정보 등록하기 </button>\n    </div>\n  );\n};\n\nexport default AddRoad;"]},"metadata":{},"sourceType":"module"}